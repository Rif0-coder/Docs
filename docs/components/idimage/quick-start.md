## Быстрый старт

После установки компонента в административной панели сайта появится новый пункт верхнего меню **Пакеты → ID image**.

### 1. Получение токена

1. Перейдите в [личный кабинет ID Image](https://idimage.ru/account/).
2. Скопируйте токен, представленный в вашем аккаунте.

![Получение токена в личном кабинете ID Image](https://file.modx.pro/files/c/2/a/c2a4b5fcf827aea4687e75d4390b2b39.png)

### 2. Ввод токена в настройках

1. Откройте страницу компонента в административной панели.
2. Перейдите во вкладку **«Настройки»**.
3. Вставьте ранее скопированный токен в соответствующее поле.
4. Сохраните изменения.

![Настройки](https://file.modx.pro/files/6/b/3/6b3e559af9c0ba205a29b83bfd2ee0dc.png)

### 3. Проверка баланса

1. В разделе **Информация о системе** убедитесь, что все проверки успешно пройдены.
2. Запросите текущий баланс запросов, чтобы проверить корректность установки токена.

![Проверка баланса](https://file.modx.pro/files/8/d/1/8d112cfd4e738b6c1b35865281513d17.png)

::: warning Важно
Баланс запросов в сервисе [idimage.ru](https://idimage.ru) должен быть положительным!
:::

## 4 Индексация товаров

Выполните инструкцию по [индексации товаров](/components/idimage/indexed/index)

## 5 Размещение сниппета

Разместите сниппет в шаблоне карточки товара или в любом другом месте

::: code-group

```modx
[[!idImageSimilar]]
[[!msProducts?
    &resources=`[[+idimage.ids]]`
    &sortby=`FIELD(msProduct.id, [[+idimage.ids]])`
    &tpl=`@FILE chunks/catalog/product.row.tpl`
    &parents=`0`
]]
```

```fenom
{$modx->runSnippet('idImageSimilar', [
    'min_scope' => 65
])}

{var $ids = $modx->getPlaceholder('idimage.ids')}
{if  $ids}
  {$modx->runSnippet('msProducts', [
      'tpl' => '@FILE chunks/catalog/product.row.tpl',
      'resources' => $ids,
      'sortby' => "FIELD(msProduct.id, {$ids})",
      'parents' => 0,
  ])}
{/if}
```

:::

На странице должны появятся товары по максимальной схожести

**Пример блока с похожими товарами**

::: warning Важно
Сниппет **idImageSimilar** возвращает только id товаров, и не каким образом не отвечает за то в каком визуальном виде товары будут выводиться.
:::

#### Пример как можно вывести товары на сайте

Это только пример какой результат может получиться

![пример похожих товаров ](https://file.modx.pro/files/9/1/3/913a2f5aa8f4b5d0808f0b9b2c992372.png)
